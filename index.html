<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>å®‡å®™ã®é‹å‹¢å ã„</title>
    <style>
        /* å®‡å®™ç©ºé–“ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        body { 
            background-color: #000022; 
            color: #fff; 
            font-family: 'Hiragino Kaku Gothic ProN', sans-serif;
            text-align: center; 
            padding: 50px;
            background-image: radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 40px),
                              radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 30px);
            background-size: 550px 550px, 350px 350px;
        }
        .box { 
            border: 2px solid #4444ff; 
            padding: 30px; 
            border-radius: 20px; 
            display: inline-block; 
            background: rgba(0, 0, 50, 0.8);
            box-shadow: 0 0 20px #4444ff;
        }
        h1 { color: #8888ff; text-shadow: 0 0 10px #8888ff; }
        button { 
            background: linear-gradient(45deg, #000088, #4444ff); 
            color: white; border: none; padding: 12px 24px; 
            border-radius: 30px; cursor: pointer; font-size: 18px; 
            box-shadow: 0 0 10px #4444ff;
        }
        button:disabled { background: #555; cursor: not-allowed; box-shadow: none; }
        #result { margin-top: 20px; font-size: 26px; font-weight: bold; color: #ff00ff; text-shadow: 0 0 5px #fff; }
        .share-btn { 
            margin-top: 30px; display: inline-block; background: #000; color: white; 
            padding: 10px 20px; border: 1px solid #fff; border-radius: 5px; 
            text-decoration: none; font-size: 14px; 
        }
    </style>
</head>
<body>

<div class="box">
    <h1>ğŸŒŒ å®‡å®™ã®é‹å‹¢å ã„ ğŸŒŒ</h1>
    <p>é‹å‘½ã¯æ˜ŸãŒæ±ºã‚ã‚‹ã€‚ãƒãƒ£ãƒ³ã‚¹ã¯1æ—¥1å›ã€‚</p>
    <button id="uranaiBtn" onclick="uranai()">æ˜Ÿã«å°‹ã­ã‚‹</button>
    <div id="result"></div>
    <a id="shareX" class="share-btn" style="display:none;" target="_blank">Xã§çµæœã‚’å ±å‘Šã™ã‚‹</a>
</div>

<script>
// ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ãŸæ™‚ã«ã€ä»Šæ—¥ã™ã§ã«å ã£ãŸã‹ãƒã‚§ãƒƒã‚¯
window.onload = function() {
    const lastDate = localStorage.getItem('lastUranaiDate');
    const today = new Date().toLocaleDateString();
    if (lastDate === today) {
        document.getElementById("uranaiBtn").disabled = true;
        document.getElementById("result").innerText = "ä»Šæ—¥ã®å ã„ã¯ã‚‚ã†çµ‚ã‚ã£ãŸã‚ˆã€‚ã¾ãŸæ˜æ—¥ã­ã€‚";
        // å‰ã®çµæœã‚‚å‡ºã—ã¦ãŠããªã‚‰ã“ã“
        const lastResult = localStorage.getItem('lastResult');
        if(lastResult) showXButton(lastResult);
    }
};

function uranai() {
    const results = ["è¶…æ–°æ˜Ÿçˆ†ç™ºç´šã®å¹¸é‹ ğŸŒŸ", "éŠ€æ²³ä¸€ã®ãƒ©ãƒƒã‚­ãƒ¼ ğŸŒŒ", "ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«ã«æ³¨æ„ ğŸŒ€", "æµã‚Œæ˜Ÿã®é¡˜ã„ãŒå¶ã† âœ¨", "ç„¡é‡åŠ›ãªæ°—åˆ† ğŸ‘¨â€ğŸš€"];
    const lucky = results[Math.floor(Math.random() * results.length)];
    
    document.getElementById("result").innerText = lucky;
    document.getElementById("uranaiBtn").disabled = true;

    // ä»Šæ—¥å ã£ãŸã“ã¨ã‚’ä¿å­˜
    localStorage.setItem('lastUranaiDate', new Date().toLocaleDateString());
    localStorage.setItem('lastResult', lucky);

    showXButton(lucky);
}

function showXButton(lucky) {
    const siteUrl = "https://gumi21314151-max.github.io";
    const text = "ä»Šæ—¥ã®å®‡å®™å ã„ã®çµæœã¯ã€Œ" + lucky + "ã€ã§ã—ãŸï¼";
    const xUrl = "https://twitter.com" + encodeURIComponent(siteUrl) + "&text=" + encodeURIComponent(text);
    
    const shareBtn = document.getElementById("shareX");
    shareBtn.href = xUrl;
    shareBtn.style.display = "inline-block";
}
</script>

</body>
</html>

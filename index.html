<!-- index.html ã® <script> éƒ¨åˆ†ã‚’ã“ã‚Œã«æ›¸ãæ›ãˆã‚‹ã ã‘ã§OKï¼ -->
<script>
    // èƒŒæ™¯ã®æ˜Ÿç”Ÿæˆï¼ˆãƒ‡ã‚¶ã‚¤ãƒ³ç¶­æŒï¼‰
    const starsContainer = document.getElementById('stars');
    for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.width = Math.random() * 3 + 'px';
        star.style.height = star.style.width;
        star.style.top = Math.random() * 100 + '%';
        star.style.left = Math.random() * 100 + '%';
        star.style.animationDelay = Math.random() * 2 + 's';
        starsContainer.appendChild(star);
    }

    window.onload = function() { checkStatus(); setInterval(updateTimer, 1000); };

    function checkStatus() {
        const today = new Date().toLocaleDateString();
        const lastDate = localStorage.getItem("lastUranaiDate");
        if (lastDate === today) {
            renderResult(localStorage.getItem("lastUranaiResult"));
            document.getElementById("uranaiBtn").disabled = true;
        }
    }

    function uranai() {
        const r = Math.random() * 100;
        const num = Math.floor(r) + 1;
        let fortune = "";
        
        // ğŸŒ¸ 100å€‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒªã‚¹ãƒˆ
        const messages = [
            "1000æ—¥ã«ä¸€åº¦ã®ç¥å¼•ãï¼ä¼èª¬ã®ä¸€æ—¥ç¢ºå®šã€‚", "å®‡å®™ã®ãƒ‘ãƒ¯ãƒ¼ãŒã‚ãªãŸã«é›†ä¸­ã—ã¦ã„ã¾ã™ï¼", "æœ€é«˜ã®ä¸€æ—¥ï¼å¤§æˆåŠŸã—ã¾ã™ã€‚", "å®ãã˜ç´šã®å¹¸é‹ãŒè¨ªã‚Œã¾ã™ã€‚", "ã‚ãªãŸã®ç¬‘é¡”ãŒå‘¨ã‚Šã‚’å¹¸ã›ã«ã™ã‚‹æ—¥ã€‚", "ãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ ã¯æ¶ˆã—ã‚´ãƒ ã€‚", "å³è¶³ã‹ã‚‰é´ã‚’å±¥ã“ã†ã€‚", "ãŠã‚„ã¤ã‚’å¥®ç™ºã™ã‚‹ã¨é‹æ°—UPï¼", "å¿˜ã‚Œç‰©ã«æ³¨æ„ã€‚ã§ã‚‚è‰¯ã„å‡ºä¼šã„ã‚‚ï¼Ÿ", "æŒ¨æ‹¶ã™ã‚‹ã¨è‰¯ã„ã“ã¨ã‚ã‚‹ã‹ã‚‚ã€‚",
            "æ–°ã—ã„ãƒšãƒ³ã‚’ä½¿ãŠã†ã€‚", "å¥½ããªæ­Œã‚’é¼»æ­Œã§æ­ŒãŠã†ã€‚", "æ·±å‘¼å¸ã‚’3å›ã€‚è¦–ç•ŒãŒåºƒãŒã‚Šã¾ã™ã€‚", "çŒ«ã®å‹•ç”»ã«ç™’ã•ã‚Œã‚‹æ—¥ã€‚", "æ¢ã—ç‰©ãŒè¦‹ã¤ã‹ã‚‹äºˆæ„Ÿã€‚", "èª°ã‹ã«æ„Ÿè¬ã•ã‚Œã‚‹æ—¥ã€‚", "æ—©èµ·ãã¯ä¸‰æ–‡ã®å¾³ï¼", "ç©ºã®é’ã•ã‚’æ¥½ã—ã‚“ã§ã€‚", "ãŠæ°—ã«å…¥ã‚Šã®æœã‚’ç€ã‚ˆã†ã€‚", "æ–°ã—ã„çŸ¥è­˜ãŒæ­¦å™¨ã«ãªã‚‹æ—¥ã€‚",
            "æ—©å¯æ—©èµ·ããŒå‰ã€‚è‡ªåˆ†ã«æ„Ÿè¬ã€‚", "å‹é”ã®æ„å¤–ãªä¸€é¢ã‚’ç™ºè¦‹ã€‚", "å‹‡æ°—ã‚’å‡ºã—ã¦ä¸€æ­©å‰é€²ï¼", "éšæ®µã‚’ä¸€æ®µé£›ã°ã—ã§é‹æ°—UPï¼", "ä¿¡å·ãŒå…¨éƒ¨é’ã«ãªã‚‹ãƒŸãƒ©ã‚¯ãƒ«ã€‚", "ã‚«ãƒãƒ³ã®ä¸­ã‚’æ•´ç†ã—ã¦ã‚¹ãƒƒã‚­ãƒªã€‚", "é¡ã«å‘ã‹ã£ã¦ç¬‘ã†ã¨ç„¡æ•µï¼", "æ¬²ã—ã‹ã£ãŸã‚‚ã®ãŒå®‰ããªã‚‹ã‹ã‚‚ã€‚", "å¤•ç„¼ã‘ãŒç¶ºéº—ã«è¦‹ãˆã‚‹äºˆæ„Ÿã€‚", "æ°´è‰²ã®ã‚‚ã®ã‚’æŒã¤ã¨å‰ã€‚",
            "è‡ªä¿¡ã‚’æŒã£ã¦ï¼ã‚ãªãŸã¯ä¸€å‘³é•ã†ã€‚", "æ‡ã‹ã—ã„æ›²ã§ã‚¢ã‚¤ãƒ‡ã‚¢ãŒæ¹§ãæ—¥ã€‚", "èŠ¯ãŒæŠ˜ã‚Œãªã„è¨˜éŒ²æ›´æ–°ï¼ï¼Ÿ", "ãŠæ˜¼ã”é£¯ãŒäºˆæƒ³ä»¥ä¸Šã«ç¾å‘³ã—ã„ï¼", "5åˆ†å‰è¡Œå‹•ã§å…¨ã¦ãŒå›ã‚‹ã€‚", "æ˜Ÿç©ºã‚’è¦‹ä¸Šã’ã¦å®‡å®™ã‚’æ„Ÿã˜ã‚ˆã†ã€‚", "ãƒãƒ³ã‚«ãƒã‚’æ–°ã—ãã—ã¦é‹æ°—ãƒªã‚»ãƒƒãƒˆã€‚", "èª°ã‹ã®ã€Œã‚ã‚ŠãŒã¨ã†ã€ãŒåŠ›ã«ã€‚", "è‡ªåˆ†ã¸ã®ã”è¤’ç¾ã‚’å¿˜ã‚Œãšã«ã€‚", "å°ã•ãªå†’é™ºãŒå¤§ããªç™ºè¦‹ã«ã€‚",
            "èãä¸Šæ‰‹ã«ãªã‚‹ã¨å‰ã€‚", "æ¤ç‰©ã«æ°´ã‚’ã‚ã’ã¦å¿ƒã‚‚æ½¤ã†ã€‚", "æ¬²å¼µã‚‰ãªã„ã“ã¨ãŒå¹¸é‹ã®éµã€‚", "æ—©å£è¨€è‘‰ãŒã‚¹ãƒ©ã‚¹ãƒ©è¨€ãˆã‚‹ï¼ï¼Ÿ", "æƒé™¤ã§å¤±ãã—ãŸ10å††ç™ºè¦‹ã€‚", "é´ã‚’ç£¨ã„ã¦å‡ºã‹ã‘ã‚ˆã†ã€‚", "ã€Œãƒ©ãƒƒã‚­ãƒ¼ã€ã¨è¨€è‘‰ã«å‡ºã—ã¦ã€‚", "è¡Œåˆ—ã«ä¸¦ã°ãªãã¦æ¸ˆã‚€æ—¥ã€‚", "ã‚ãªãŸã®å„ªã—ã•ãŒèª°ã‹ã®æ•‘ã„ã«ã€‚", "ã‚¢ã‚¤ã‚¹ã§å½“ãŸã‚ŠãŒå‡ºã‚‹ã‹ã‚‚ï¼Ÿ",
            "å§¿å‹¢ã‚’æ­£ã™ã¨é‹æ°—ã‚‚æ­£ã•ã‚Œã‚‹ã€‚", "ç›´æ„Ÿã«å¾“ã£ã¦å‹•ã„ã¦æ­£è§£ã€‚", "ãŠé¢¨å‘‚ã«ã‚†ã£ãã‚Šæµ¸ã‹ã‚ã†ã€‚", "æ–°ã—ã„é“ã§æ–°ã—ã„ç™ºè¦‹ã€‚", "æ—©ã‚ã«å®¿é¡ŒãŒçµ‚ã‚ã‚‹äºˆæ„Ÿï¼", "å›³æ›¸é¤¨ã§é‹å‘½ã®æœ¬ã«å‡ºä¼šã†ã€‚", "ç™½ã„ã‚·ãƒ£ãƒ„ãŒå¥½å°è±¡ã‚’ä¸ãˆã‚‹ã€‚", "èª°ã‹ã®ãŸã‚ã«ãƒ‰ã‚¢ã‚’é–‹ã‘ã‚ˆã†ã€‚", "èãå½¹ã«å¾¹ã—ã¦æœ‰åŠ›æƒ…å ±ã‚’ã‚²ãƒƒãƒˆã€‚", "ã‚ãªãŸã¯ååˆ†é ‘å¼µã£ã¦ã‚‹ã€‚",
            "ãƒªãƒ³ã‚´ã§é ­ãŒã‚·ãƒ£ã‚­ãƒƒã¨ã™ã‚‹ã€‚", "æ–‡å­—ã‚’ä¸å¯§ã«æ›¸ãã¨é‹æ°—UPï¼", "é›¨ã¯æµã¿ã®é›¨ã€‚ã—ã£ã¨ã‚Šã„ã“ã†ã€‚", "è™¹ãŒè¦‹ãˆã‚‹ã‹ã‚‚ã—ã‚Œãªã„ãƒ©ãƒƒã‚­ãƒ¼ãƒ‡ãƒ¼ã€‚", "è‡ªåˆ†ã®é•·æ‰€ã‚’3ã¤è¨€ã£ã¦ã¿ã¦ã€‚", "ã‚¹ãƒãƒ›ã‚’ç½®ã„ã¦ç©ºã‚’çœºã‚ã‚ˆã†ã€‚", "ãŠã«ãã‚Šã®å…·ãŒå¥½ããªã‚„ã¤ã ã£ãŸï¼", "ç›®ãŒã‚ã£ãŸäººã«ä¼šé‡ˆã§é‹æ°—çˆ†ä¸Šã’ã€‚", "éšæ®µã®æ®µæ•°ã‚’æ•°ãˆã¦é›†ä¸­åŠ›UPï¼", "ã€Œã¾ã€ã„ã£ã‹ã€ã®ç²¾ç¥ãŒå¤§äº‹ã€‚",
            "10åˆ†ã ã‘æ—©ã‚ã«è¡Œå‹•ã—ã¦ã¿ã¦ã€‚", "æ–°ã—ã„è¨€è‘‰ã‚’1ã¤è¦šãˆã‚ˆã†ã€‚", "å¯ç™–ãŒç¶ºéº—ã«ç›´ã‚‹ç´ æ™´ã‚‰ã—ã„æ—¥ã€‚", "ã‚«ãƒãƒ³ã«äºˆå‚™ã®è¢‹ã‚’å…¥ã‚Œã¦å‰ã€‚", "å¤ã„æ›¸é¡ã‚’æ¨ã¦ã¦æ–°ã—ã„é‹æ°—ã‚’ã€‚", "å…ƒæ°—ã‚ˆãã€Œã¯ã„ï¼ã€ã¨è¿”äº‹ã—ã‚ˆã†ã€‚", "é´ã‚’æƒãˆã¦å¾³ã‚’ç©ã‚‚ã†ã€‚", "è‡ªåˆ†ã‚’ä¸€ç•ªã«è¤’ã‚ã¦ã‚ã’ã¦ã€‚", "ãƒ›ãƒƒãƒˆãƒŸãƒ«ã‚¯ã§å¿ƒã‚‚æ¸©ã¾ã‚‹ã€‚", "ä»Šæ—¥ã®ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼ã¯ã‚ªãƒ¬ãƒ³ã‚¸ã€‚",
            "ã‚­ãƒ£ãƒ©ã‚°ãƒƒã‚ºã‚’é£¾ã‚ã†ã€‚", "è¦‹ãŸæ™‚é–“ãŒã‚¾ãƒ­ç›®ï¼", "ä¸€æ­©å¼•ã„ã¦å…¨ä½“ã‚’è¦‹ã¦ã¿ã‚ˆã†ã€‚", "ç¬‘é¡”ã®ç·´ç¿’ã§æœ¬å½“ã«æ¥½ã—ããªã‚‹ã€‚", "ã„ã¤ã‚‚ã®é“ã‚’é¸ã‚“ã§å®‰å¿ƒã€‚", "æ–°ã—ã„é´ä¸‹ã§æ°—æŒã¡è‰¯ã„æ—¥ã€‚", "æ¥½ã—ã„äºˆå®šã‚’æ›¸ãè¾¼ã‚‚ã†ã€‚", "ä½•ã‚‚ã—ãªã„è´…æ²¢ã‚’å‘³ã‚ã£ã¦ã€‚", "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’è€ƒãˆã¦ã¿ã¦ã€‚", "ç§˜å¯†ã®å ´æ‰€ã‚’è¦‹ã¤ã‘ã‚‹æ—¥ã€‚",
            "ã‚¹ãƒãƒ›ã®å……é›»ãŒé•·æŒã¡ã™ã‚‹ã€‚", "å¿˜ã‚Œã‹ã‘ã¦ã„ãŸç´„æŸã‚’æ€ã„å‡ºã™ã€‚", "ã€Œã‚ã‚ŠãŒã¨ã†ã€ã‚’10å›è¨€ãŠã†ã€‚", "ã¨ãã‚ãç¬é–“ã«æ•æ„Ÿã«ãªã£ã¦ã€‚", "ã‚†ã£ãã‚Šä¸å¯§ã«æ­©ã“ã†ã€‚", "æº–å‚™ä¸‡ç«¯ã€‚å‹åˆ©ç¢ºå®šï¼", "æœ€å¾Œã®ä¸€å£ãŒä¸€ç•ªç¾å‘³ã—ã„ã€‚", "ä»Šæ—¥ã¯ã‚ãªãŸã®å‹ã¡ã€‚ãŠã‚ã§ã¨ã†ï¼", "ã€Œä»Šæ—¥ã‚‚æœ€é«˜ã ã£ãŸã€ã¨è¨€ãŠã†ã€‚", "æœ€é«˜ã®ç›®è¦šã‚ãŒå¾…ã£ã¦ã‚‹ã€‚"
        ];

        // åˆ¤å®šï¼ˆå‡¶ã‚’è¿½åŠ ï¼ï¼‰
        if (r < 0.1) fortune = "ğŸŒˆå¥‡è·¡";
        else if (r < 3.0) fortune = "âœ¨è¶…å¤§å‰";
        else if (r < 20.0) fortune = "âœ¨å¤§å‰";
        else if (r < 50.0) fortune = "ğŸŒ¿ä¸­å‰";
        else if (r < 80.0) fortune = "â˜€ï¸å‰";
        else fortune = "ğŸ’€å‡¶";

        const finalResult = `No.${num} | ${fortune}ï¼š${messages[num-1]}`;
        
        localStorage.setItem("lastUranaiDate", new Date().toLocaleDateString());
        localStorage.setItem("lastUranaiResult", finalResult);
        renderResult(finalResult);
        document.getElementById("uranaiBtn").disabled = true;
    }

    function renderResult(text) {
        const resDiv = document.getElementById("result");
        resDiv.innerText = text;
        if (text.includes("å¥‡è·¡")) { document.body.classList.add("rare-mode"); resDiv.classList.add("rare-text"); }
        else { document.body.classList.remove("rare-mode"); resDiv.classList.remove("rare-text"); }
    }

    function updateTimer() {
        const lastDate = localStorage.getItem("lastUranaiDate");
        if (!lastDate) return;
        const now = new Date();
        const tomorrow = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1);
        const diff = tomorrow - now;
        const h = Math.floor(diff / 1000 / 60 / 60);
        const m = Math.floor(diff / 1000 / 60) % 60;
        const s = Math.floor(diff / 1000) % 60;
        if (lastDate === now.toLocaleDateString()) {
            document.getElementById("timer").innerText = `æ¬¡ã®é‘‘å®šã¾ã§ï¼š${h}æ™‚é–“${m}åˆ†${s}ç§’`;
        }
    }
</script>
